# Tekton Liquibase Pipelines 

The main purpose of this repository is to integrate [liquibase tool](https://docs.liquibase.com/home.html) 
with Tekton Triggers and Pipelines, and to provide an initial implementation of this integration 
that can be evolved to adapt to different contexts

## Index

- [Pre-Requisites](#Pre-Requisites)
- [Configuration Resources](#Configuration-Resources)
- [Tekton Pipelines and Taks](#Tekton-Pipelines)
- [Tekton Triggers Configuration](#Tekton-Triggers-Configuration)
- [Developing Environment](#Developing-Environment)

### Pre-Requisites

The implemented Tekton Pipelines and Events have been developed using the following configurations:

- Kubernetes v1.30.4
- Tekton Pipelines v0.65.3
- Tekton Triggers v0.29.1
- Tekton Dashboard v0.52.0

#### Tekton Dependencies

You will need to import tasks from tekton hub which are not part of this repository. These tasks can be installed using
either kubectl apply command or using [tekton cli](https://tekton.dev/docs/cli/)

- [git-clone](https://hub.tekton.dev/tekton/task/git-clone) v0.9

### Configuration Resources

In the folder [resources](resources), the different service accounts and secrets which have been configured during the
implementation process can be found

### Tekton Pipelines

In the folder [tasks](tasks), the different tasks definitions for liquibase commands
can be found and the pipelines which reference previous tasks are located in [pipelines](pipelines) folder

### Tekton Triggers Configuration

In the folder [events](events), the different configurations for EventListener, TriggerBinding and TriggerTemplate can be found

### Developing Environment

In order to be able to trigger argo events from local environment without exposing your local environment to public internet,
[cloudflared quick tunnels](https://developers.cloudflare.com/cloudflare-one/connections/connect-networks/do-more-with-tunnels/trycloudflare/)
can be used to generate a dynamic dns to connect the service generated by event source to GitHub Webhooks
